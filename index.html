<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Comfort Caf√© ‚Äî Tabletop for My Love</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Montserrat:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#fff8f7;
    --paper:#fffdfc;
    --blush:#f7d6dd;
    --pink:#d96a88;
    --rose:#b84a66;
    --latte:#bfa79a;
    --dark:#472e2e;
    --muted:#6b4a4a;
    --accent:#ff9dbb;
    --shadow: 0 14px 40px rgba(75,28,36,0.08);
    --fruit-size:48px;
    --max-width:1100px;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg), #fff2f3);font-family:Montserrat,system-ui,Arial;color:var(--dark);-webkit-font-smoothing:antialiased}
  .wrap{max-width:var(--max-width);margin:28px auto;padding:18px}
  /* Header */
  header.site{
    display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px;border-radius:12px;background:linear-gradient(180deg,#fff,#fffaf9);box-shadow:var(--shadow);
  }
  .brand{display:flex;gap:12px;align-items:center}
  .badge{
    width:68px;height:68px;border-radius:12px;background:linear-gradient(135deg,var(--pink),var(--rose));display:flex;align-items:center;justify-content:center;color:white;font-size:28px;font-weight:800;box-shadow:0 8px 24px rgba(214,75,118,0.10)
  }
  .brand .title{font-family:'Playfair Display',serif;font-size:18px;color:var(--rose)}
  .brand .sub{font-size:13px;color:var(--muted)}
  .controls{display:flex;gap:8px;align-items:center}
  .btn{padding:10px 12px;border-radius:999px;border:none;background:var(--pink);color:white;font-weight:700;cursor:pointer;box-shadow:0 10px 28px rgba(255,107,149,0.12)}
  .btn.ghost{background:transparent;border:1px solid rgba(180,100,120,0.08);color:var(--rose)}
  .small{font-size:13px;color:var(--muted)}
  /* Tabletop scene */
  .scene{margin-top:18px;display:grid;grid-template-columns:360px 1fr;gap:18px;align-items:start}
  @media(max-width:980px){ .scene{grid-template-columns:1fr} }
  .table{
    background:linear-gradient(180deg,#fffefc,#fff6f6);
    border-radius:16px;padding:18px;box-shadow:var(--shadow);position:relative;overflow:hidden;
    min-height:540px;
  }
  /* Table visual: left column (table surface) */
  .table-surface{
    height:100%;display:flex;flex-direction:column;gap:12px;
  }
  .table-top{
    background:linear-gradient(180deg,#fff9f8,#fff0f2);
    border-radius:12px;padding:14px;display:flex;gap:12px;align-items:flex-start;
  }
  .coffee-cup{
    width:120px;height:120px;border-radius:20px;background:linear-gradient(180deg,#fffdfb,#fff0f0);display:flex;align-items:center;justify-content:center;box-shadow:0 10px 26px rgba(0,0,0,0.06);
    position:relative;overflow:hidden;
  }
  .coffee{
    width:86px;height:86px;border-radius:50%;background:linear-gradient(180deg,#6b4a3f,#4d3229);display:flex;align-items:center;justify-content:center;color:#f6e8e5;font-weight:800;font-size:24px;box-shadow:inset 0 -8px 24px rgba(255,255,255,0.03);
  }
  .polaroids{display:flex;flex-direction:column;gap:8px;flex:1}
  .photo{
    width:100%;border-radius:10px;padding:10px;background:linear-gradient(180deg,#fff,#fff7f7);border:1px solid rgba(184,74,102,0.05);cursor:pointer;display:flex;align-items:center;gap:10px;
  }
  .photo .emoji{font-size:32px}
  .photo .meta{font-weight:700;color:var(--rose)}
  .note{
    margin-top:8px;padding:10px;border-radius:10px;background:linear-gradient(180deg,#fff6f6,#fff0f2);border:1px solid rgba(184,74,102,0.04)
  }

  /* right column: menu/panels */
  .menu-area{display:flex;flex-direction:column;gap:12px}
  .panel{background:linear-gradient(180deg,#fff,#fff9f9);padding:14px;border-radius:12px;box-shadow:var(--shadow)}
  .panel h4{margin:0 0 8px 0;color:var(--rose);font-family:'Playfair Display',serif}
  .menu-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
  .menu-item{padding:10px;border-radius:10px;background:linear-gradient(180deg,#fff,#fff6f7);cursor:pointer;border:1px solid rgba(184,74,102,0.03);font-weight:700;color:var(--muted)}
  .menu-item small{display:block;font-weight:400;color:#6b4a4a;margin-top:4px}

  /* comfort buttons */
  .comfort-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:8px}
  .comfort-btn{padding:10px;border-radius:10px;border:none;background:linear-gradient(90deg,#fff6f7,#fff1f3);cursor:pointer;color:var(--dark);font-weight:700}
  .comfort-btn:active{transform:translateY(2px)}

  /* music controls */
  .music-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  .music-btn{padding:8px 12px;border-radius:999px;border:1px solid rgba(180,100,120,0.06);background:linear-gradient(90deg,#fff,#fff6f9);cursor:pointer;font-weight:700;color:var(--rose)}

  /* fruits stage (subtle) */
  .fruit-stage{position:absolute;inset:12px 12px auto auto;width:calc(100% - 24px);height:120px;pointer-events:none;z-index:30}
  .fruit{position:absolute;width:var(--fruit-size);height:var(--fruit-size);border-radius:12px;display:flex;align-items:center;justify-content:center;color:white;font-weight:800;font-size:20px;pointer-events:none;box-shadow:0 8px 18px rgba(0,0,0,0.06)}
  .fruit .face{position:absolute;bottom:4px;left:50%;transform:translateX(-50%);background:rgba(255,255,255,0.12);padding:3px 6px;border-radius:8px;font-size:10px;color:#2f1c1c}
  .straw{background:linear-gradient(135deg,#f86b8f,#f84578)}
  .melon{background:linear-gradient(135deg,#ffd66b,#ffaf3b);color:#341e1e}
  .grape{background:linear-gradient(135deg,#9b59ff,#7b2be6)}
  .banana{background:linear-gradient(135deg,#ffd97a,#ffb84a);color:#341e1e}
  .apple{background:linear-gradient(135deg,#ff8b8b,#ff4b4b)}
  .pear{background:linear-gradient(135deg,#b7f17d,#8fd13a);color:#341e1e}

  @keyframes tabletopWiggle{
    0%{transform:translateY(0) rotate(-4deg)}
    25%{transform:translateY(-6px) rotate(3deg)}
    50%{transform:translateY(0) rotate(-1deg)}
    75%{transform:translateY(-4px) rotate(3deg)}
    100%{transform:translateY(0) rotate(-4deg)}
  }

  .fruit.wiggle{animation:tabletopWiggle 4s ease-in-out infinite}

  /* footer */
  footer{margin-top:18px;text-align:center;color:var(--muted);font-size:13px}
  /* responsive tweaks */
  @media(max-width:720px){
    .photo .meta{font-size:14px}
    .brand .title{font-size:16px}
  }
</style>
</head>
<body>
  <div class="wrap" role="main">
    <header class="site" role="banner">
      <div class="brand">
        <div class="badge" aria-hidden="true">‚òï</div>
        <div>
          <div class="title">Comfort Caf√© ‚Äî Tabletop</div>
          <div class="sub small">A gentle place I made for you ‚Äî warm, steady, and pink.</div>
        </div>
      </div>

      <div class="controls">
        <button id="ambientToggle" class="btn ghost" aria-pressed="false">Ambient OFF</button>
        <button id="fruitsReveal" class="btn ghost">Surprise Fruits</button>
        <button id="promiseBtn" class="btn">Read Promise</button>
      </div>
    </header>

    <div class="scene" aria-live="polite">
      <!-- LEFT: Tabletop -->
      <div class="table" aria-label="Tabletop scene">
        <div class="table-surface">
          <div class="table-top" role="region" aria-label="table items">
            <div class="coffee-cup" title="A warm cup for you (click)">
              <div class="coffee" id="coffeeBtn" role="button" tabindex="0" aria-pressed="false" aria-label="Warm coffee ‚Äî click for comfort">‚òï</div>
            </div>

            <div class="polaroids" role="list">
              <div class="photo" tabindex="0" data-msg="That first match that brought us together felt like fate ‚Äî and I loved it." id="pol1" role="listitem">
                <div class="emoji">üéÆ</div><div class="meta">Valorant Memory <small class="small">(click)</small></div>
              </div>

              <div class="photo" tabindex="0" data-msg="Your laugh is my favorite song. Thank you for taking time for my naughty banters." id="pol2" role="listitem">
                <div class="emoji">üòÑ</div><div class="meta">Your Laugh <small class="small">(click)</small></div>
              </div>

              <div class="photo" tabindex="0" data-msg="Roxy and Maui ‚Äî your soft world. I promise to care for them and you." id="pol3" role="listitem">
                <div class="emoji">üê±üê∂</div><div class="meta">Roxy & Maui <small class="small">(click)</small></div>
              </div>
            </div>
          </div>

          <div class="note card" id="noteArea" aria-live="polite">
            <div style="display:flex;justify-content:space-between;align-items:center">
              <div style="font-weight:800;color:var(--rose)">Table Note</div>
              <div class="small">Click any item on the table</div>
            </div>
            <p id="noteText" style="margin-top:8px;color:var(--muted)">Welcome, love. Tap an item on the table ‚Äî I'll share a small comfort or memory. You are safe here.</p>
          </div>
        </div>

        <!-- subtle fruit field along top -->
        <div class="fruit-stage" id="fruitStage" aria-hidden="true"></div>
      </div>

      <!-- RIGHT: Menu & Panels -->
      <aside class="menu-area" aria-label="Cafe menu and comfort panels">
        <div class="panel">
          <h4>Menu ‚Äî Comfort & Treats</h4>
          <div class="menu-grid" style="margin-top:8px">
            <div class="menu-item" tabindex="0" data-msg="McFloat & ShakeShake Fries ‚Äî your little happy place. I‚Äôll bring it in your dreams.">McFloat <small>‚Äî dreamy sip</small></div>
            <div class="menu-item" tabindex="0" data-msg="Coffee with extra warmth ‚Äî morning smiles guaranteed.">Latte <small>‚Äî warm hug</small></div>
            <div class="menu-item" tabindex="0" data-msg="Soft playlist + nap mode ‚Äî I‚Äôll stay as you sleep.">Nap Mix <small>‚Äî sleepy tunes</small></div>
            <div class="menu-item" tabindex="0" data-msg="A pocket full of kisses and babying ‚Äî whenever you need.">Spoil Box <small>‚Äî extra kisses</small></div>
          </div>
        </div>

        <div class="panel">
          <h4>Comfort Corner</h4>
          <div class="comfort-grid" style="margin-top:8px">
            <button class="comfort-btn" data-msg="It‚Äôs okay to rest. I‚Äôll hold things while you breathe.">It‚Äôs okay to rest</button>
            <button class="comfort-btn" data-msg="You are loved. No matter what, I‚Äôm here.">You are loved</button>
            <button class="comfort-btn" data-msg="Your laugh makes ordinary moments golden.">Your laugh</button>
            <button class="comfort-btn" data-msg="Lean on me. I‚Äôll stay.">Lean on me</button>
          </div>
        </div>

        <div class="panel">
          <h4>Music & Calm</h4>
          <div class="small">Tap a chime ‚Äî soft notes inspired by her favorites (user-initiated)</div>
          <div class="music-row" style="margin-top:10px">
            <button id="jereena" class="music-btn">Jereena</button>
            <button id="niki" class="music-btn">NIKI</button>
            <button id="ariana" class="music-btn">Ariana</button>
            <button id="ambientBtn" class="music-btn ghost">Play Ambience</button>
          </div>
        </div>

        <div class="panel">
          <h4>Why I Love You</h4>
          <div class="small" style="margin-top:8px">A few honest truths I want you to keep close.</div>
          <ul style="margin-top:8px;color:var(--muted)">
            <li>Your laugh ‚Äî my favorite sound.</li>
            <li>Your softness ‚Äî makes me gentler.</li>
            <li>Your time ‚Äî when you make space for my silly side.</li>
            <li>Your pets ‚Äî you cherish them and I cherish that in you.</li>
          </ul>
        </div>
      </aside>
    </div>

    <footer>
      <div class="small center">Made with gentle care ‚Äî I‚Äôm here, always. üíó</div>
    </footer>
  </div>

  <!-- tiny modal for promise -->
  <div id="promiseModal" class="popup" role="dialog" aria-modal="true" aria-hidden="true" style="display:none">
    <div style="font-weight:800;color:var(--rose)">My Promise to You</div>
    <div class="small" style="margin-top:8px">I will spoil you, protect you, and be here. You deserve the best and I will do my best every day. awabyuu.</div>
    <div style="margin-top:10px;text-align:right"><button id="closePromise" class="btn">Close</button></div>
  </div>

<script>
/* ==========================
   Utility & UI wiring
   ========================== */
const noteText = document.getElementById('noteText');
const pol1 = document.getElementById('pol1');
const pol2 = document.getElementById('pol2');
const pol3 = document.getElementById('pol3');
const coffeeBtn = document.getElementById('coffeeBtn');
const spoilBtn = document.getElementById('spoilBtn');
const fruitsReveal = document.getElementById('fruitsReveal');
const fruitStage = document.getElementById('fruitStage');
const ambientToggle = document.getElementById('ambientToggle');
const promiseBtn = document.getElementById('promiseBtn');
const promiseModal = document.getElementById('promiseModal');
const closePromise = document.getElementById('closePromise');
const comfortBtns = document.querySelectorAll('.comfort-btn');
const menuItems = document.querySelectorAll('.menu-item');

/* open cafe scene */
document.getElementById('openCafe')?.addEventListener?.('click', ()=> {
  // fallback if there's an openCafe (not present in this layout)
});

/* click handlers for polaroids & coffee */
[pol1, pol2, pol3].forEach(el=>{
  el.addEventListener('click', ()=> revealNote(el.dataset.msg));
  el.addEventListener('keydown', (e)=> { if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); revealNote(el.dataset.msg); }});
});
coffeeBtn.addEventListener('click', ()=> revealNote('A warm cup just for you ‚Äî breathe. I‚Äôm here.'));
coffeeBtn.addEventListener('keydown', (e)=> { if(e.key==='Enter' || e.key===' ') revealNote('A warm cup just for you ‚Äî breathe. I‚Äôm here.'); });

menuItems.forEach(it => {
  it.addEventListener('click', ()=> revealNote(it.dataset.msg));
  it.addEventListener('keydown', (e)=> { if(e.key==='Enter' || e.key===' ') revealNote(it.dataset.msg); });
});

comfortBtns.forEach(b=>{
  b.addEventListener('click', ()=> revealNote(b.dataset.msg));
});

/* reveal small note function */
function revealNote(msg){
  // show message in note area with subtle effect
  noteText.style.opacity = 0;
  setTimeout(()=> {
    noteText.textContent = msg;
    noteText.style.opacity = 1;
  }, 220);
  // small fruit sprinkle for delight
  littleFruitBurst(5);
}

/* Promise modal */
promiseBtn.addEventListener('click', ()=> {
  promiseModal.style.display = 'block';
  promiseModal.setAttribute('aria-hidden','false');
});
closePromise.addEventListener('click', ()=> {
  promiseModal.style.display = 'none';
  promiseModal.setAttribute('aria-hidden','true');
});

/* Fruits reveal control */
let fruitsOn = true;
fruitsReveal.addEventListener('click', ()=> {
  fruitsOn = !fruitsOn;
  fruitsReveal.textContent = fruitsOn ? 'Surprise Fruits' : 'Fruits OFF';
  if(fruitsOn) startFruits(); else { fruitStage.innerHTML=''; if(fruitTick) clearInterval(fruitTick); }
});

/* ==========================
   Subtle Fruit Implementation (F2 + M2, medium but classy)
   ========================== */
const FRUITS = ['straw','melon','grape','banana','apple','pear'];
let fruitPool = [];
let fruitTick;

function makeFruit() {
  const el = document.createElement('div');
  const variant = FRUITS[Math.floor(Math.random()*FRUITS.length)];
  el.className = 'fruit ' + variant;
  el.style.left = Math.random()*80 + 'vw';
  el.style.top = Math.random()*10 + 'px';
  // face & eyes
  const face = document.createElement('div'); face.className = 'face';
  const faces = ['üôÇ','üòØ','ü•∫','üòã','üòç','ü§≠'];
  face.textContent = faces[Math.floor(Math.random()*faces.length)];
  el.appendChild(face);
  el.classList.add('wiggle');
  fruitStage.appendChild(el);
  // gentle fade and life
  setTimeout(()=> { el.style.opacity = 1; }, 60);
  // schedule removal
  setTimeout(()=> { try{ el.remove(); }catch(e){} }, 10000 + Math.random()*6000);
  return el;
}

function spawnFruits(count=10) {
  for(let i=0;i<count;i++){
    setTimeout(()=> {
      if(!fruitsOn) return;
      makeFruit();
    }, i * 120);
  }
}

function startFruits() {
  fruitStage.innerHTML = '';
  spawnFruits(12);
  if(fruitTick) clearInterval(fruitTick);
  fruitTick = setInterval(()=> { if(!fruitsOn) return; spawnFruits(4); }, 9000);
}
function littleFruitBurst(n=4) {
  if(!fruitsOn) return;
  spawnFruits(n);
}

/* start initial fruits quietly */
startFruits();

/* ==========================
   Ambient & Music (WebAudio)
   - ambient: gentle filtered noise (toggleable)
   - chimes: simple note sequences for Jereena / NIKI / Ariana
   ========================== */
let audioCtx, ambientNode, ambientGain;
function ensureAudio(){
  if(!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
  return audioCtx;
}

/* ambient: filtered noise */
function startAmbient(){
  const ctx = ensureAudio();
  // create white noise buffer
  const bufferSize = ctx.sampleRate * 2;
  const buffer = ctx.createBuffer(1, bufferSize, ctx.sampleRate);
  const data = buffer.getChannelData(0);
  for(let i=0;i<bufferSize;i++) data[i] = (Math.random()*2-1) * 0.12; // quiet noise
  const noise = ctx.createBufferSource();
  noise.buffer = buffer;
  noise.loop = true;
  const lp = ctx.createBiquadFilter();
  lp.type = 'lowpass'; lp.frequency.value = 900;
  const gain = ctx.createGain(); gain.gain.value = 0.0;
  noise.connect(lp); lp.connect(gain); gain.connect(ctx.destination);
  noise.start();
  ambientNode = noise; ambientGain = gain;
  // fade in gently
  gain.gain.linearRampToValueAtTime(0.02, ctx.currentTime + 0.5);
}

function stopAmbient(){
  if(ambientGain) {
    ambientGain.gain.linearRampToValueAtTime(0.0001, audioCtx.currentTime + 0.6);
    setTimeout(()=> { try{ ambientNode.stop(); }catch(e){} ambientNode=null; ambientGain=null; }, 800);
  }
}

/* music chimes (notes arrays) */
function playChime(notes=[440,660,880], durs=[0.18,0.18,0.34]) {
  const ctx = ensureAudio();
  const now = ctx.currentTime;
  const o = ctx.createOscillator();
  const g = ctx.createGain();
  o.type = 'sine'; o.connect(g); g.connect(ctx.destination);
  g.gain.setValueAtTime(0.0001, now);
  o.start(now);
  let t = now;
  for(let i=0;i<notes.length;i++){
    o.frequency.setValueAtTime(notes[i], t);
    g.gain.linearRampToValueAtTime(0.06, t+0.02);
    t += durs[i] || 0.18;
    g.gain.exponentialRampToValueAtTime(0.0001, t);
  }
  o.stop(t+0.05);
}

/* wire music buttons */
document.getElementById('jereena').addEventListener('click', ()=> playChime([330,392,523,440],[0.18,0.18,0.22,0.22]));
document.getElementById('niki').addEventListener('click', ()=> playChime([220,277,330,277],[0.2,0.2,0.3,0.2]));
document.getElementById('ariana').addEventListener('click', ()=> playChime([440,660,880,660,440],[0.12,0.12,0.18,0.12,0.2]));

/* ambient toggle */
ambientToggle.addEventListener('click', ()=> {
  const ctx = ensureAudio();
  if(ambientNode){
    stopAmbient(); ambientToggle.textContent = 'Ambient OFF'; ambientToggle.setAttribute('aria-pressed','false');
  } else {
    startAmbient(); ambientToggle.textContent = 'Ambient ON'; ambientToggle.setAttribute('aria-pressed','true');
  }
});

/* Fruits reveal explicit button: small celebration */
fruitsReveal.addEventListener('click', ()=> { littleFruitBurst(10); });

/* ==========================
   Preload / user gesture: ensure audio allowed on first tap
   ========================== */
function initUserGesture() {
  const onFirst = () => {
    try { ensureAudio(); } catch(e){}
    document.removeEventListener('click', onFirst);
    document.removeEventListener('keydown', onFirst);
  };
  document.addEventListener('click', onFirst);
  document.addEventListener('keydown', onFirst);
}
initUserGesture();

/* Accessibility: keyboard focus outlines and interactions */
/* (photo & menu items already have tabindex and key handlers above) */

/* End script */
</script>
</body>
</html>

