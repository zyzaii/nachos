<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>ASCII Portrait</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root { --font-size: 6px; --line-h: 6px; }

    html, body {
      height: 100%;
      margin: 0;
      background: #fff;
      color: #000;
    }

    body {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 18px;
      box-sizing: border-box;
    }

    .wrap {
      max-width: 900px;
      width: 100%;
    }

    pre#portrait {
      font-family: "Courier New", monospace;
      white-space: pre;
      overflow: auto;
      font-size: var(--font-size);
      line-height: var(--line-h);
      background: #fff;
      color: #000;
      margin: 0;
      padding: 8px;
      border: 1px solid #ccc;
    }

    @media (max-width: 420px) {
      :root { --font-size: 4px; --line-h: 4px; }
    }
  </style>
</head>

<body>
  <div class="wrap">
    <pre id="portrait">Generating portrait…</pre>
  </div>

<script>
(() => {

  // ------------------------------------------------
  // CHANGE THIS: Available options → "Aki" or "Daniella"
  // ------------------------------------------------
  const MESSAGE = "Aki";
  // ------------------------------------------------

  const IMAGE_SRC = "download (2).jpg";  // your image file
  const COLS = 150; 
  const SCALE = 0.55;
  const THRESH_LIGHT = 0.70;

  // Expand characters until we have enough fill
  let chars = MESSAGE.split('');
  while (chars.length < 2000) chars.push(...chars);

  const img = new Image();
  img.crossOrigin = "anonymous";
  img.src = IMAGE_SRC;

  const portraitElem = document.getElementById("portrait");

  img.onload = () => {
    const W = img.naturalWidth || img.width;
    const H = img.naturalHeight || img.height;

    const cellW = W / COLS;
    const cellH = cellW / SCALE;
    const ROWS = Math.round(H / cellH);

    const canvas = document.createElement("canvas");
    canvas.width = COLS;
    canvas.height = ROWS;

    const ctx = canvas.getContext("2d");
    ctx.drawImage(img, 0, 0, canvas.width, canvas.height);

    const data = ctx.getImageData(0, 0, canvas.width, canvas.height).data;

    let out = "";
    let pointer = 0;

    for (let r = 0; r < canvas.height; r++) {
      let row = "";
      for (let c = 0; c < canvas.width; c++) {
        const i = (r * canvas.width + c) * 4;
        const rpx = data[i];
        const gpx = data[i + 1];
        const bpx = data[i + 2];

        const lum = (0.299*rpx + 0.587*gpx + 0.114*bpx) / 255;

        if (lum > THRESH_LIGHT) {
          row += " ";
        } else {
          let ch = chars[pointer % chars.length];
          pointer++;
          row += ch;
        }
      }
      out += row + "\n";
    }

    portraitElem.textContent = out;
  };

  img.onerror = () => {
    portraitElem.textContent =
      "ERROR: Image not found.\nMake sure 'download (2).jpg' is in the same folder.";
  };

})();
</script>

</body>
</html>
